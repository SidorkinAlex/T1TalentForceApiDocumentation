# Передача ответов на вопросы анкеты

Существует несколько типов вопросов, основные это:


Тип | Описание | 
-----| -------- 
base | Одиночный вопрос
group | Групповой вопрос (несколько подвопросов в одном)
multigroup | Груповой многострочный вопрос (несколько групп подвопросов)

Существует несколько типов ответов на вопросы, основные это:

Тип | Описание | 
-----| -------- 
date_answer  | Дата, формат ГГГГ-ММ-ДД. ```"value": "2024-08-20"```
dropdown_answer | ID варианта ответа из какого то списка ```"value": "guid-guid-1234-1234"```
option_answer |  ID варианта ответа из какого то списка ```"value": "guid-guid-1234-1234"```
line_answer |   Текстовый ответ ```"value": "Строка, текст, буквы"```
text_answer |   Текстовый ответ ```"value": "Строка, текст, буквы"```


Всё тело анкеты передается в такой структуре:

```json
{
    "token": "",

    "external_jira_id": "",

    "lkk_candidate_questionnaire": {
      // Основные поля анкеты
    },
    "lkk_questionnaires_questions": [
    [
      // Ответы
    ]
  ]
}

```

Внутри массива находятся подобные стуктуры, всегда состоящие из 3-х полей:

```json
{
  "id": "416bdace-076a-8068-a270-60cb4153331d",
  "value": "",
  "sub_group_num": ""
}
```

Параметр | Описание | 
-----| -------- 
id  | Идентификатор вопроса из списка вопросов
value  | Ответ на вопрос, строчное значение
sub_group_num | Уникальный номер группы многострочного вопроса


```sub_group_num```  нужен только для ```multigroup``` вопросов. Для всех остальных он должен оставаться со значением 0

### Примеры передачи некоторых ответов

Передача ответа ```date_answer``` на вопрос с типом ```base```

```json
{
  // Вопрос "Дата рождения"
  "id": "853f064d-4de8-562a-fa10-609272ce227d",
  
  // Ответ 
  "value": "1993-05-23",
  
  // Значение группы
  "sub_group_num": "0"
}
```

Передача ответа ```line_answer``` на вопрос с типом ```base```

```json
{
  // Вопрос "Место рождения"
  "id": "80866f2d-021e-77ae-dad2-609273d74f74",
  
  // Ответ 
  "value": "Россия, г. Москва",
  
  // Значение группы
  "sub_group_num": "0"
}
```

Передача ответа ```option_answer``` на вопрос с типом ```base```

Варианты ответов есть у вопросов с соответствующим типом и перечислены в списке всех вопросов

```json
{
  // Вопрос "У вас есть второе гражданство?"
  "id": "f14038a3-1b70-600b-c4a5-641addfa0c5d",
  
  // Ответ, "Да"
  "value": "4ee072c1-5ee1-1c98-493e-641add0e1a99",
  
  // Значение группы
  "sub_group_num": "0"
}
```

### Передача мультигрупповых полей

Мультигрупповые вопросы - это вопросы с типом ```multigroup``` - такие вопросы,
у которых ответ состоит из "строк"
аналогично как с таблицей, у каждой строки есть номер - ```sub_group_num```.

Ответ на сам главный вопрос отправлять не нужно, необходимо заполнить только "дочерние вопросы"


Например, ответ двумя строками:

```json
[
  // Первая "строка"
  {
    "sub_group_num": "1",
    "value": "Мазунин",
    "id": "97ad6e18-a386-030d-aee2-60bf4c788a66"
  },
  {
    "sub_group_num": "1",
    "value": "Дмитрий",
    "id": "1a69f9de-2911-e2dd-5a25-60bf4d9a691c"
  },
  {
    "sub_group_num": "1",
    "value": "Сергеевич",
    "id": "3b0b485b-63ec-0a77-86f2-60bf4d9e0739"
  },

  // Вторая "строка"
  {
    "sub_group_num": "2",
    "value": "Медведев",
    "id": "97ad6e18-a386-030d-aee2-60bf4c788a66"
  },
  {
    "sub_group_num": "2",
    "value": "Василий",
    "id": "1a69f9de-2911-e2dd-5a25-60bf4d9a691c"
  },
  {
    "sub_group_num": "2",
    "value": "Алексеевич",
    "id": "3b0b485b-63ec-0a77-86f2-60bf4d9e0739"
  }
]


```

Как видно у строк есть одинаковые идентификаторы вопросов - "столбцы" в таблице, но разные "строки" - ```sub_group_num```
строк может быть сколько угодно много - единственное правило, у них должен отличаться номер строки
, если ответ пустой, то его все равно необходимо передавать с номером строки и пустым значением.
